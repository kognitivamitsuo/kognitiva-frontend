<!DOCTYPE html>

<html lang="pt-BR">
<head>
&lt;!-- üî∑ B00: Cabe√ßalho e configura√ß√£o do estilo --&gt;

<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>Kognitiva Chat Din√¢mico Integrado</title>
<style>
  body {
    margin: 0; background-color: #343541; color: #f3f4f6;
    font-family: 'Segoe UI', sans-serif;
    display: flex; height: 100vh; overflow: hidden;
  }
  .sidebar {
    width: 240px;
    background-color: #202123;
    padding: 1rem;
    overflow-y: auto;
    border-right: 1px solid #555;
    box-sizing: border-box;
  }
  .sidebar h2 {
    margin-top: 0;
    margin-bottom: 1rem;
    font-size: 1.2rem;
    font-weight: 700;
  }
  .client-list {
    list-style: none;
    padding: 0;
    margin: 0;
  }
  .client-list li {
    padding: 0.5rem 0.75rem;
    cursor: pointer;
    border-radius: 8px;
    user-select: none;
    transition: background-color 0.2s;
  }
  .client-list li:hover, .client-list li.active {
    background-color: #3b82f6;
    color: white;
  }
  .chat-container {
    flex: 1;
    display: flex;
    flex-direction: column;
    background-color: #2a2c38;
  }
  .chat-messages {
    flex: 1;
    padding: 1rem;
    overflow-y: auto;
    scroll-behavior: smooth;
  }
  .message {
    max-width: 75%;
    margin-bottom: 10px;
    padding: 12px 16px;
    border-radius: 18px;
    line-height: 1.4;
    word-wrap: break-word;
    font-size: 15px;
  }
  .message.ai {
    background-color: #f3f4f6;
    color: #111827;
    align-self: flex-start;
    border-bottom-left-radius: 4px;
  }
  .message.user {
    background-color: #3b82f6;
    color: white;
    align-self: flex-end;
    border-bottom-right-radius: 4px;
    display: flex;
    align-items: center;
  }
  .chat-input-wrapper {
    display: flex;
    padding: 10px 15px;
    border-top: 1px solid #555;
    background-color: #343541;
  }
  .chat-input {
    flex: 1;
    padding: 12px 16px;
    font-size: 15px;
    border-radius: 20px;
    border: none;
    background-color: #1f2937;
    color: white;
    outline: none;
  }
  .send-btn {
    margin-left: 8px;
    background-color: #2563eb;
    border: none;
    border-radius: 12px;
    padding: 6px 12px;
    color: white;
    cursor: pointer;
    font-weight: 600;
    user-select: none;
  }
  .send-btn:hover {
    background-color: #1e40af;
  }
</style>
</head>
<body>
<!DOCTYPE html>
<!-- IA-STRUCTURE v4.0 | Adaptado para KOGNITIVA v3.6 -->
<html lang="pt-BR" data-ia-version="4.0" data-framework="kognitiva-b00-b19">
<head>
  <!-- üî∑ B00 ‚Äì Metadados e Seguran√ßa -->
  <meta charset="UTF-8" data-required="true">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" data-validation="responsive">
  <meta name="generator" content="AI-HTML-100%">
  <meta http-equiv="Content-Security-Policy" 
        content="default-src 'self'; script-src 'self' 'unsafe-inline' https://sync.kognitiva.app; style-src 'self' 'unsafe-inline'; connect-src 'self' https://sync.kognitiva.app" 
        data-csp="enforced">
  <script type="application/ld+json" id="ai-validation">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "Kognitiva Chat",
    "description": "Interface HTML 100% ger√°vel por IA com rastreabilidade total",
    "requirements": "WCAG2.1-AA OWASP-Top10 CoreWebVitals",
    "validationScheme": {
      "steps": ["W3C", "Lighthouse", "AXE", "HTMLHint"],
      "threshold": "100% compliance"
    }
  }
  </script>
</head>
<body data-ia-flow="strict" data-ai-status="valid">

  <!-- üî∑ B15 ‚Äì Aviso LGPD -->
  <div id="lgpdAviso" 
       data-ai-component="lgpd-b15" 
       data-validation-rules="required-aria required-text">
    ‚ö†Ô∏è Este chat respeita a LGPD. Ao continuar, voc√™ concorda com o uso dos dados conforme nossa pol√≠tica.
  </div>

  <!-- üî∑ B13 ‚Äì Lista de Clientes -->
  <div id="sidebarClientes" data-ai-component="sidebar-clientes" data-validation-rules="required-id"></div>

  <!-- üî∑ B10/B11/B12 ‚Äì √Årea de Conversa -->
  <div class="chat-container" data-ai-component="chat-container">

    <!-- üî∑ B10 ‚Äì Mensagens IA e Usu√°rio -->
    <div id="chatMessages" class="chat-box"></div>

    <!-- üî∑ B16 ‚Äì Diagn√≥stico Final -->
    <div id="diagnosticoFinal" class="diagnostico-box"></div>

    <!-- üî∑ B11 ‚Äì Entrada de Mensagem -->
    <form id="formChat" data-ai-validation="submit" data-required-fields="inputMensagem">
      <input type="text" id="inputMensagem" placeholder="Digite sua mensagem..." />
      <button id="botaoEnviar">Enviar</button>
    </form>
  </div>

  <!-- üî∑ B18 ‚Äì Reset da Sess√£o -->
  <button id="botaoResetar" class="resetar-chat">üîÅ Resetar Chat</button>

  <!-- üî∑ Fallback HTML (JS/CSS desativado) -->
  <div data-ai-fallback-system>
    <template data-fallback="js-disabled">‚ö†Ô∏è Ative o JavaScript para usar o chat.</template>
    <template data-fallback="css-disabled">‚ö†Ô∏è O layout pode estar comprometido. Habilite o CSS.</template>
  </div>

  <!-- üî∑ B01‚ÄìB09, B14, B17 ‚Äì Scripts Cognitivos -->
  <script src="mainPage.js"></script> <!-- B04‚ÄìB06, B07‚ÄìB09 -->
  <script src="execControl.js"></script> <!-- B14 ‚Äì Fallback -->
  <script src="contextService.js"></script> <!-- B04‚ÄìB06 -->
  <script src="diagnosticoFinal.js"></script> <!-- B16 -->
  <script src="feedbackBox.js"></script> <!-- B17 -->
  <script src="reaproveitarSessao.js"></script> <!-- B13 ‚Äì Contexto -->
  <script src="executarIA.js"></script> <!-- B10/B11 ‚Äì Execu√ß√£o -->

  <!-- üî∑ Validador Inline de Estrutura -->
  <script data-ai-validation="inline">
    document.addEventListener('DOMContentLoaded', () => {
      const validator = {
        checkIds: () => [...document.querySelectorAll('[id]')].length >= 3,
        checkAria: () => [...document.querySelectorAll('[role], [aria-label]')].length >= 5,
        runAllChecks: function () {
          return this.checkIds() && this.checkAria();
        }
      };
      if(!validator.runAllChecks()) {
        document.documentElement.setAttribute('data-ai-error', 'validation-failed');
      }
    });
  </script>

  <!-- üî∑ Selo de Valida√ß√£o -->
  <!-- IA-VALIDATED: Kognitiva v4.0 | Timestamp: [auto] -->
</body>
</html>

